# bed_mod.py
---

author  : @shibasay 

date    : 2014/5/5

---

## abstruct 
@aki426 による3Dモデリングソフト be! のセーブファイル（.bed）を読み込み、モデルを修正するスクリプトです。

## usage
`python ./bed_mod.py -i [filename.bed] -o [outname.bed] -m [mode] -l [level] -r [mirrormode]`

## 引数説明

* [filename.bed]: 入力ファイル名。これはbe!で作ってね
* [outname.bed] : 出力ファイル名
* [mode]        : 処理モード 0 or 1
    * 0 中空モード（hollow）
    * 1 埋めモード（fill）
	* 2 鏡像モード (mirror)
    * デフォルト値は 0
* [level]       : 中空にするレベル。mode 0 の場合にのみ使用。
     * 0 何も消えません。
     * 1 線接触
     * 2以上 面接触
     * デフォルト値は１
* [mirrormode]  : 鏡像モードのモード。mode 2 の場合にのみ使用。
     * 0 左側を使った鏡像
     * 1 右側を使った鏡像
     * 2 もう一個隣に作る胸像
     * デフォルト値は0

## アルゴリズム詳細（へぼい）
### 中空モード
あるボクセルの削除判定において、判定対象ボクセルを取り囲むボクセルがX/Y/Zの３軸すべてでlevel個以上いれば削除となります。 （このアルゴリズム通りなら0指定なら全部消えるけど、無意味になるので、例外的に消えないモードとしました）。やっつけ仕事なので、アルゴリズムの良し悪しは不問にしていただけると助かります。
### 埋めモード
閉じた空間を固定ボクセルで埋めます。色はハードコードされており、現在は白（r,g,b=255,255,255）です。
### 鏡像モード
左右反転したモデルを生成します。
作ってみたけど左右非対称になっちゃった…。というときに使用することを想定して作りました。
副作用として、左右反転したモデルを隣にもう一個作るオプションもできました。
* 0: モデルの向かって右側半分を消し、左側を反転させたものを代わりに埋めます。左側を使った鏡像になります。
* 1: モデルの向かって左側半分を消し、右側を反転させたものを代わりに埋めます。右側を使った鏡像になります。
* 2: モデルを丸ごと左右反転させたものを、向かってすぐ右隣に配置します。モデルが簡単に2個になるよ！
